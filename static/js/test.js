// Generated by CoffeeScript 1.4.0
(function() {
  var addTotal, sumUpSessions, sumUpSessionsNum;

  $("document").ready(function() {
    addTotal();
    $(".task").hover((function() {
      $(this).addClass("selected");
      return $(this).find(".sessions").removeClass("hidden");
    }), (function() {
      $(this).removeClass("selected");
      return $(this).find(".sessions").addClass("hidden");
    }));
    $(".total").hover((function() {
      return $(this).addClass("selected");
    }), (function() {
      return $(this).removeClass("selected");
    }));
    return $(".taskname").click(function() {
      return alert("hallo");
    });
  });

  sumUpSessionsNum = function() {
    var result;
    result = 0;
    $(".tasktime").each(function() {
      var split, val;
      val = $(this).text().trim();
      split = val.split(":");
      return result += 60 * (Number(split[0])) + (Number(split[1]));
    });
    return result;
  };

  sumUpSessions = function() {
    var hours, mins, n, sHours, sMins;
    n = sumUpSessionsNum();
    hours = parseInt(n / 60);
    mins = n % 60;
    sHours = hours < 10 ? "0" + hours : hours.toString();
    sMins = mins < 10 ? "0" + mins : mins.toString();
    return "" + sHours + ":" + sMins;
  };

  addTotal = function() {
    var template;
    template = '<div class="row"><div class="span6 total"><div class="row">' + '<div class="span5">Total</div><div class="span1">' + sumUpSessions() + '</div></div></div></div>';
    return $(".task").last().parent().parent().append(template);
  };

}).call(this);
